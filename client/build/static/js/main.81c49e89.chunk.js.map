{"version":3,"sources":["utils/auth.js","components/Nav.js","utils/mutations.js","pages/Login.js","pages/SignUp.js","pages/Home.js","utils/queries.js","pages/Profile.js","utils/API.js","pages/Search.js","components/Footer.js","App.js","index.js","assets/images/beethub.JPG"],"names":["idToken","localStorage","setItem","window","location","assign","removeItem","getItem","decode","this","getToken","token","isTokenExpired","exp","Date","now","e","Navigate","useState","selectedNav","setSelectedNav","select","target","text","Navbar","variant","className","id","Container","Brand","as","Link","to","alt","src","logo","width","height","Nav","onClick","Auth","loggedIn","event","preventDefault","logout","ADD_USER","gql","LOGIN","Login","props","email","password","formState","setFormState","useMutation","login","error","handleChange","name","value","handleFormSubmit","a","variables","data","console","onSubmit","placeholder","type","onChange","Signup","username","addUser","Home","QUERY_ME","Profile","useQuery","loading","user","me","log","axios","require","searchSpotify","query","options","method","url","params","q","offset","limit","numberOfTopResults","headers","request","searchData","Search","searchedAlbums","setSearchedAlbums","searchInput","setSearchInput","response","Error","albumData","albums","items","map","album","albumURI","uri","albumId","split","artists","cover","coverArt","sources","year","date","Form","Group","controlId","Label","Control","Button","length","i","Card","key","style","Img","Body","Title","Text","ListGroup","ListGroupItem","profile","href","Footer","httpLink","createHttpLink","authLink","setContext","_","authorization","client","ApolloClient","link","concat","cache","InMemoryCache","App","ApolloProvider","exact","path","component","SignUp","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.81c49e89.chunk.js","sourcesContent":["import decode from 'jwt-decode';\n\nclass AuthService {\n    // write the user token to local storage\n    login(idToken) {\n        localStorage.setItem('id_token', idToken);\n        window.location.assign('/');\n    }\n\n    // remove the token from local storage\n    logout() {\n        localStorage.removeItem('id_token');\n        window.location.assign('/');\n    }\n\n    // retrieve token from local storage\n    getToken() {\n        return localStorage.getItem('id_token');\n    }\n\n    // decode the token\n    getProfile() {\n        return decode(this.getToken());\n    }\n\n    // check if the user is still logged in\n    loggedIn() {\n        const token = this.getToken();\n        return !!token && !this.isTokenExpired(token);\n    }\n\n    // check if the token is expired\n    isTokenExpired(token) {\n        try {\n            const decoded = decode(token);\n            if (decoded.exp < Date.now() / 1000) {\n                return true;\n            } else {\n                return false;\n            }\n        } catch (e) {\n            return false;\n        }\n    }\n}\n\nexport default new AuthService();","import React, { useState } from \"react\";\nimport { Navbar, Container, Nav } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport logo from \"../assets/images/beethub.JPG\";\n\nimport Auth from '../utils/auth'\n\nexport default function Navigate() {\n  const [selectedNav, setSelectedNav] = useState(\"\");\n\n  const select = (e) => {\n    let target = e.target.text;\n    setSelectedNav(target);\n  };\n\n  const logout = event => {\n    event.preventDefault();\n    Auth.logout();\n  }\n\n  return (\n    <Navbar\n      variant=\"dark\"\n      className=\"d-flex w-100 justify-content-center py-0\"\n      id=\"navbar\"\n    >\n      <Container className=\"navContainer d-flex justify-content-start\">\n        <Navbar.Brand as={Link} to=\"/\" className=\"px-3\">\n          <img\n            alt=\"\"\n            src={logo}\n            width=\"30\"\n            height=\"30\"\n            className=\"d-inline-block align-top\"\n          />{\" \"}\n          BeetHub\n        </Navbar.Brand>\n        <Nav>\n          <Nav.Link as={Link} to=\"/\" onClick={select} className={selectedNav === \"Home\" ? \"selectedNav\" : \"\"}>\n            Home\n          </Nav.Link>\n          <Nav.Link as={Link} to=\"/search\" onClick={select} className={selectedNav === \"Search\" ? \"selectedNav\" : \"\"}>\n            Search\n          </Nav.Link>\n          {Auth.loggedIn() ? (\n            <>\n              <Nav.Link as={Link} to=\"/profile\" onClick={select} className={selectedNav === \"Profile\" ? \"selectedNav\" : \"\"}>\n                Profile\n              </Nav.Link>\n              <Nav.Link to=\"/\" onClick={logout}>\n                Logout\n              </Nav.Link>\n            </>\n          ) : (\n            <>\n              <Nav.Link as={Link} to=\"/login\" onClick={select} className={selectedNav === \"Login\" ? \"selectedNav\" : \"\"}>\n                Login\n              </Nav.Link>\n              <Nav.Link as={Link} to=\"/signup\" onClick={select} className={selectedNav === \"Sign Up\" ? \"selectedNav\" : \"\"}>\n                Sign Up\n              </Nav.Link>\n            </>\n          )}\n        </Nav>\n      </Container>\n    </Navbar>\n  );\n}\n","import { gql } from '@apollo/client';\n\n export const ADD_USER = gql`\n     mutation addUser($username: String!, $email: String!, $password: String!) {\n         addUser(username: $username, email: $email, password: $password) {\n             token\n             user {\n                 _id\n                 username\n                 email\n             }\n         }\n     }\n `;\n\n export const LOGIN = gql`\n     mutation login($email: String!, $password: String!) {\n         login(email: $email, password: $password) {\n             token\n             user {\n                 _id\n                 username\n                 email\n             }\n         }\n     }\n `;\n","import React, { useState } from 'react';\nimport { useMutation } from '@apollo/client';\nimport { LOGIN } from '../utils/mutations';\n\nimport Auth from '../utils/auth';\n\nconst Login = (props) => {\n  const [formState, setFormState] = useState({ email: '', password: '' });\n  const [login, { error }] = useMutation(LOGIN);\n\n  // update state based on form input changes\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n\n    setFormState({\n      ...formState,\n      [name]: value,\n    });\n  };\n\n  // submit form\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n      const { data } = await login({\n        variables: { ...formState },\n      });\n\n      Auth.login(data.login.token);\n    } catch (e) {\n      console.error(e);\n    }\n\n    // clear form values\n    setFormState({\n      email: '',\n      password: '',\n    });\n  };\n\n  return (\n    <main className=\"flex-row justify-center mb-4\">\n      <div className=\"col-12 col-md-6\">\n        <div className=\"card\">\n          <h4 className=\"card-header\">Login</h4>\n          <div className=\"card-body\">\n            <form onSubmit={handleFormSubmit}>\n              <input\n                className=\"form-input\"\n                placeholder=\"Your email\"\n                name=\"email\"\n                type=\"email\"\n                id=\"email\"\n                value={formState.email}\n                onChange={handleChange}\n              />\n              <input\n                className=\"form-input\"\n                placeholder=\"******\"\n                name=\"password\"\n                type=\"password\"\n                id=\"password\"\n                value={formState.password}\n                onChange={handleChange}\n              />\n              <button className=\"btn d-block w-100\" type=\"submit\">\n                Submit\n              </button>\n            </form>\n\n            {error && <div>Login failed</div>}\n          </div>\n        </div>\n      </div>\n    </main>\n  );\n}; \n\nexport default Login;","import React, { useState } from 'react';\nimport { useMutation } from '@apollo/client';\nimport { ADD_USER } from '../utils/mutations';\n\nimport Auth from '../utils/auth';\n\nconst Signup = () => {\n  const [formState, setFormState] = useState({\n    username: '',\n    email: '',\n    password: '',\n  });\n  const [addUser, { error }] = useMutation(ADD_USER);\n\n  // update state based on form input changes\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n\n    setFormState({\n      ...formState,\n      [name]: value,\n    });\n  };\n\n  // submit form\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n      const { data } = await addUser({\n        variables: { ...formState },\n      });\n\n      Auth.login(data.addUser.token);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  return (\n    <main className=\"flex-row justify-center mb-4\">\n      <div className=\"col-12 col-md-6\">\n        <div className=\"card\">\n          <h4 className=\"card-header\">Sign Up</h4>\n          <div className=\"card-body\">\n            <form onSubmit={handleFormSubmit}>\n              <input\n                className=\"form-input\"\n                placeholder=\"Your username\"\n                name=\"username\"\n                type=\"username\"\n                id=\"username\"\n                value={formState.username}\n                onChange={handleChange}\n              />\n              <input\n                className=\"form-input\"\n                placeholder=\"Your email\"\n                name=\"email\"\n                type=\"email\"\n                id=\"email\"\n                value={formState.email}\n                onChange={handleChange}\n              />\n              <input\n                className=\"form-input\"\n                placeholder=\"******\"\n                name=\"password\"\n                type=\"password\"\n                id=\"password\"\n                value={formState.password}\n                onChange={handleChange}\n              />\n              <button className=\"btn d-block w-100\" type=\"submit\">\n                Submit\n              </button>\n            </form>\n\n            {error && <div>Signup failed</div>}\n          </div>\n        </div>\n      </div>\n    </main>\n  );\n};\n\nexport default Signup;","import React from 'react'\n\nexport default function Home() {\n  return (\n    <div>Home</div>\n  )\n}\n","import { gql } from '@apollo/client';\n\nexport const QUERY_ME = gql`\n    query {\n        me {\n            _id\n            username\n            email\n            collections {\n                _id\n            }\n            reviews {\n                _id\n            }\n            favorites {\n                _id\n            }\n        }\n    }\n`;","import React from 'react'\n\nimport Auth from '../utils/auth';\n\n// query user data via apollo client\nimport { useQuery } from '@apollo/client';\n\nimport { QUERY_ME } from '../utils/queries';\n\nimport { Redirect } from 'react-router-dom';\n\nexport default function Profile() {\n  const { loading, data } = useQuery(QUERY_ME);\n\n  // check if the data exists before accessing it\n  const user = data?.me\n\n  // redirect to login if the user tries to view the profile and they're not logged in\n  if (!Auth.loggedIn()) {\n    return <Redirect to='/login'/>\n  }\n\n  console.log(user)\n\n  return (\n    // conditionally render the user profile\n    <>\n      {loading ? (\n        <h1>Loading...</h1>\n      ) : (\n        <div>\n          <h1>Welcome, {user.username}</h1>\n        </div>\n      )}\n    </>\n  )\n}\n","const axios = require(\"axios\");\n\nexport const searchSpotify = async (query) => {\n    const options = {\n        method: 'GET',\n        url: 'https://spotify23.p.rapidapi.com/search/',\n        params: {\n          q: query,\n          type: 'multi',\n          offset: '0',\n          limit: '10',\n          numberOfTopResults: '3'\n        },\n        headers: {\n          'X-RapidAPI-Host': 'spotify23.p.rapidapi.com',\n          'X-RapidAPI-Key': \"API KEY GOES HERE\"\n        }\n      };\n\n      try {\n          const searchData = await axios.request(options);\n          console.log(searchData);\n          return searchData;\n      } catch (error) {\n          console.log(error);\n      }\n}","import React, { useState } from \"react\";\nimport { Form, Button, Card, ListGroup, ListGroupItem } from \"react-bootstrap\";\nimport { searchSpotify } from \"../utils/API\";\n\nexport default function Search() {\n  const [searchedAlbums, setSearchedAlbums] = useState([]);\n  const [searchInput, setSearchInput] = useState(\"\");\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n\n    if (!searchInput) {\n      return false;\n    }\n\n    try {\n      const response = await searchSpotify(searchInput);\n\n      if (!response) {\n        throw new Error(\"something went wrong!\");\n      }\n\n      const { data } = response\n\n      const albumData = data.albums.items.map((album) => ({\n        albumURI: album.data.uri,\n        albumId: album.data.uri.split(\":\")[2],\n        name: album.data.name,\n        artists: album.data.artists || \"Artist unknown\",\n        cover: album.data.coverArt.sources[0].url || \"no cover art\",\n        year: album.data.date.year,\n      }));\n\n      setSearchedAlbums(albumData);\n      console.log(albumData);\n      setSearchInput(\"\");\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  return (\n    <>\n      <Form className=\"form\" onSubmit={handleFormSubmit}>\n        <Form.Group className=\"searchForm mb-3\" controlId=\"formBasicSearch\">\n          <Form.Label>Album Search</Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Search for an album name...\"\n            name=\"searchInput\"\n            onChange={(e) => setSearchInput(e.target.value)}\n          />\n          <Button\n            variant=\"secondary\"\n            type=\"submit\"\n            className=\"button py-2 my-3\"\n          >\n            Submit\n          </Button>\n        </Form.Group>\n      </Form>\n      <div>\n        {searchedAlbums.length ? searchedAlbums.map((album, i) => {\n          return (\n            <Card key={i} style={{ width: \"18rem\" }}>\n              <Card.Img variant=\"top\" src={album.cover} />\n              <Card.Body>\n                <Card.Title>{album.name}</Card.Title>\n                <Card.Text>{album.year}</Card.Text>\n              </Card.Body>\n              <ListGroup className=\"list-group-flush\">\n                <ListGroupItem>{album.artists.items.map((profile) => {\n                  return profile.name\n                })}</ListGroupItem>\n              </ListGroup>\n              <Card.Body>\n                <Card.Link href={album.albumURI}>Check It Out on Spotify</Card.Link>\n              </Card.Body>\n            </Card>\n          );\n        }) : \"\"}\n      </div>\n    </>\n  );\n}\n","import React from 'react'\n\nexport default function Footer() {\n  return (\n    <div>Footer</div>\n  )\n}\n","import Nav from \"./components/Nav\";\nimport Login from \"./pages/Login\";\nimport SignUp from \"./pages/SignUp\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport React from \"react\";\nimport { setContext } from \"@apollo/client/link/context\";\nimport {\n  ApolloProvider,\n  ApolloClient,\n  InMemoryCache,\n  createHttpLink,\n} from \"@apollo/client\";\n\nimport Home from \"./pages/Home\";\nimport Profile from \"./pages/Profile\";\nimport Search from \"./pages/Search\";\nimport Footer from \"./components/Footer\"\n\n// establish graphql uri\nconst httpLink = createHttpLink({\n  uri: \"/graphql\",\n});\n\n// get the token from local storage if it exists\nconst authLink = setContext((_, { headers }) => {\n  const token = localStorage.getItem(\"id_token\");\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `Bearer ${token}` : \"\",\n    },\n  };\n});\n\n// create a new apollo client\nconst client = new ApolloClient({\n  link: authLink.concat(httpLink),\n  cache: new InMemoryCache(),\n});\n\nfunction App() {\n  return (\n    <ApolloProvider client={client}>\n      <Router>\n        <div className=\"App\">\n          <header className=\"d-flex align-items-start justify-content-start\">\n            <Nav />\n          </header>\n          <main className=\"d-flex justify-content-start px-4\">\n          <Switch>\n            <Route exact path=\"/\" component={Home} />\n            <Route exact path=\"/login\" component={Login} />\n            <Route exact path=\"/signup\" component={SignUp} />\n            <Route exact path=\"/search\" component={Search} />\n            <Route exact path=\"/profile\" component={Profile} />\n          </Switch>\n          </main>\n        </div>\n      </Router>\n      <Footer />\n    </ApolloProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/beethub.128365de.JPG\";"],"sourceRoot":""}